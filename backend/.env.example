# SSA Intelligence Backend - Environment Variables

# ============================================================================
# DATABASE
# ============================================================================

# PostgreSQL Connection
DATABASE_URL="postgresql://user:password@localhost:5432/dbname"
POSTGRES_PASSWORD="your-db-password"
POSTGRES_PORT="5432"

# ============================================================================
# REDIS CACHE
# ============================================================================

# Redis Connection (for job state tracking)
REDIS_URL="redis://:your-redis-password@localhost:6379"
REDIS_PASSWORD="your-redis-password"
REDIS_PORT="6379"

# ============================================================================
# ANTHROPIC API
# ============================================================================

# Anthropic API Key (REQUIRED - get from https://console.anthropic.com/)
ANTHROPIC_API_KEY="sk-ant-api03-..."

# Claude Model to use
CLAUDE_MODEL="claude-sonnet-4-5"

# Max tokens per API call
MAX_TOKENS=16000

# Thumbnail storage (S3 compatible) for report previews
# THUMBNAIL_S3_BUCKET=""
# THUMBNAIL_S3_REGION=""
# THUMBNAIL_S3_ENDPOINT="" # optional for S3-compatible providers
# THUMBNAIL_S3_KEY=""
# THUMBNAIL_S3_SECRET=""
# THUMBNAIL_S3_PUBLIC_BASE="" # optional public base URL override

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Node Environment
NODE_ENV="development"  # development | production

# Server Port
PORT="3000"

# CORS Origin (frontend URL)
CORS_ORIGIN="http://localhost:5174"

# ============================================================================
# SECURITY
# ============================================================================

# JWT Secret (for API authentication - generate with: openssl rand -base64 32)
JWT_SECRET="your-secret-key-here"

# API Rate Limiting
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes
RATE_LIMIT_MAX_REQUESTS="100"

# ============================================================================
# JOB CONFIGURATION
# ============================================================================

# Maximum concurrent research jobs
MAX_CONCURRENT_JOBS="3"

# Job retry configuration
MAX_SECTION_RETRIES="3"
RETRY_DELAY_MS="5000"

# ============================================================================
# LOGGING
# ============================================================================

# Log Level (error | warn | info | debug)
LOG_LEVEL="info"

# Enable detailed logging
DEBUG="false"

# ============================================================================
# PRODUCTION OVERRIDES (uncomment for production)
# ============================================================================

# NODE_ENV="production"
# CORS_ORIGIN="https://yourdomain.com"
# LOG_LEVEL="warn"
# DEBUG="false"

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================

# Skip Prisma migration checks (dev only)
SKIP_MIGRATIONS="false"

# Enable API playground/docs
ENABLE_API_DOCS="true"
CLAUDE_CACHE_ENABLED=false
